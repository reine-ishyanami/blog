import{_ as i,r as e,o as c,c as o,a as n,b as s,d as a,w as u,e as p}from"./app-Cxb9Ozmt.js";const r="/assets/javafxPackage_01-DVM9zvHE.png",k="/assets/javafxPackage_02-j3oQr0FO.png",d="/assets/javafxPackage_03-BCC7sYiE.png",g="/assets/javafxPackage_04-CHrZu932.png",v={},m=p('<h1 id="javafx-项目构建为可执行文件" tabindex="-1"><a class="header-anchor" href="#javafx-项目构建为可执行文件"><span>JavaFX 项目构建为可执行文件</span></a></h1><p><strong>以下的 jdk 版本要求仅对于 lts 版本的 jdk，其他版本的 jdk 中如果有对应的可执行程序，亦可成功运行</strong></p><h2 id="_1-javafxpackager" tabindex="-1"><a class="header-anchor" href="#_1-javafxpackager"><span>1. javafxpackager</span></a></h2><blockquote><p>版本要求: oracle jdk8</p><p>项目类型: 对于任意类型项目</p></blockquote><ol><li><p>用IDEA打开项目，按下 <code>ctrl+shift+alt+S</code> 快捷键，进入项目结构窗口</p></li><li><p>点击 <code>项目设置 -&gt; 工件</code></p></li><li><p>点击 <code>+</code> 号，如下图所示</p><p><img src="'+r+'" alt="add"></p></li><li><p>填写必要的参数</p><ul><li>应用程序类</li><li>供应商</li><li>版本</li><li>宽度</li><li>高度</li><li>原生捆绑包</li><li>应用程序图标</li></ul><p><img src="'+k+'" alt="Fill"></p></li><li><p>构建</p><p><img src="'+d+'" alt="Build"></p><p><img src="'+g+'" alt="Build2"></p></li><li><p>构建完成后可在项目目录下的 out 文件夹找到对应的 <code>exe</code> 文件</p></li></ol><h2 id="_2-javapackager" tabindex="-1"><a class="header-anchor" href="#_2-javapackager"><span>2. JavaPackager</span></a></h2><blockquote><p>版本要求: 任意 java 版本</p><p>项目类型: 仅对 maven 或 gradle 项目</p></blockquote>',7),b={href:"https://github.com/fvarrui/JavaPackager",target:"_blank",rel:"noopener noreferrer"},h={href:"https://jrsoftware.org/isinfo.php",target:"_blank",rel:"noopener noreferrer"},f={href:"https://wixtoolset.org/",target:"_blank",rel:"noopener noreferrer"},j=n("code",null,"Chocolatey",-1),x=n("code",null,"Scoop",-1),_={href:"https://chocolatey.org/install",target:"_blank",rel:"noopener noreferrer"},y=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">choco <span class="token function">install</span> <span class="token parameter variable">-y</span> innosetup wixtoolset</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,1),q={href:"https://scoop.sh/",target:"_blank",rel:"noopener noreferrer"},w=p(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">scoop bucket <span class="token function">add</span> extras</span>
<span class="line">scoop <span class="token function">install</span> inno-setup</span>
<span class="line">scoop <span class="token function">install</span> wixtoolset</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果手动安装 innosetup 和 wixtoolset，则需要将 <code>innosetup(iscc)</code> 和 <code>wixtoolset(candle &amp; light)</code> 添加到环境变量中</li></ul>`,2),P=n("li",null,[n("p",null,"在项目中引入依赖项，只列出了部分配置，更多完整配置请参考插件仓库主页（不要使用1.7.3-1.7.5的版本）")],-1),C=p(`<h3 id="maven-项目配置" tabindex="-1"><a class="header-anchor" href="#maven-项目配置"><span>maven 项目配置</span></a></h3><ol><li><p><code>pom.xml</code></p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  ...</span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">          ...</span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.github.fvarrui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javapackager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token comment">&lt;!--1.7.3-1.7.5在使用light指令时有bug--&gt;</span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.example.HelloApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token comment">&lt;!-- optional --&gt;</span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bundleJre</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bundleJre</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>customizedJre</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>customizedJre</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generateInstaller</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generateInstaller</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>administratorRequired</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>administratorRequired</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>platform</span><span class="token punctuation">&gt;</span></span>windows<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>platform</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token comment">&lt;!--jre路径，如果没有jre时须填写jdkPath--&gt;</span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jrePath</span><span class="token punctuation">&gt;</span></span>E:\\DevelopEnvironment\\JDK\\jdk1.8.0_301\\jre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jrePath</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>winConfig</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token comment">&lt;!--应用图标--&gt;</span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>icoFile</span><span class="token punctuation">&gt;</span></span>\${project.basedir}/src/main/resources/image/favicon.ico<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>icoFile</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generateSetup</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generateSetup</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generateMsi</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generateMsi</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generateMsm</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generateMsm</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>headerType</span><span class="token punctuation">&gt;</span></span>gui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>headerType</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setupMode</span><span class="token punctuation">&gt;</span></span>askTheUser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>setupMode</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>companyName</span><span class="token punctuation">&gt;</span></span>reine-ishyanami<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>companyName</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                              <span class="token comment">&lt;!--可由用户自主选择要安装的路径--&gt;</span></span>
<span class="line">                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disableDirPage</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>disableDirPage</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>winConfig</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>构建</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mvn package</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h3 id="gradle-项目配置" tabindex="-1"><a class="header-anchor" href="#gradle-项目配置"><span>gradle 项目配置</span></a></h3><ol><li><p><code>build.gradle</code></p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre class="language-groovy"><code><span class="line"><span class="token keyword">import</span> io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>fvarrui<span class="token punctuation">.</span>javapackager<span class="token punctuation">.</span>gradle<span class="token punctuation">.</span>PackageTask</span>
<span class="line"></span>
<span class="line">buildscript <span class="token punctuation">{</span></span>
<span class="line">  repositories <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  dependencies <span class="token punctuation">{</span></span>
<span class="line">      classpath <span class="token string">&#39;io.github.fvarrui:javapackager:1.7.2&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">...</span></span>
<span class="line"></span>
<span class="line">apply plugin<span class="token punctuation">:</span> <span class="token string">&#39;io.github.fvarrui.javapackager.plugin&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">...</span></span>
<span class="line"></span>
<span class="line">task <span class="token function">packageMyApp</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> PackageTask<span class="token punctuation">,</span> dependsOn<span class="token punctuation">:</span> build<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// mandatory</span></span>
<span class="line">  mainClass <span class="token operator">=</span> <span class="token string">&#39;com.example.HelloApplication&#39;</span></span>
<span class="line">  <span class="token comment">// optional</span></span>
<span class="line">  bundleJre <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">  customizedJre <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">  generateInstaller <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">  administratorRequired <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">  platform <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;windows&quot;</span></span></span>
<span class="line">  jrePath <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;E:\\\\DevelopEnvironment\\\\JDK\\\\jdk1.8.0_301\\\\jre&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">  winConfig <span class="token punctuation">{</span></span>
<span class="line">      icoFile <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">projectDir</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/src/main/resources/image/favicon.ico&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">      generateSetup <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">      generateMsi <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">      generateMsm <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">      disableDirPage <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">      headerType <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;gui&quot;</span></span></span>
<span class="line">      setupMode <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;askTheUser&quot;</span></span></span>
<span class="line">      companyName <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">&quot;reine-ishyanami&quot;</span></span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>构建</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">gradle packageMyApp</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="_3-jpackage" tabindex="-1"><a class="header-anchor" href="#_3-jpackage"><span>3. jpackage</span></a></h2><blockquote><p>版本要求: jdk17以上，非lts版本最低为14，需要安装wixtoolset3.0，并将其工具包（light，candle）添加到环境变量</p><p>项目类型: 对于任意类型项目，但推荐使用构建工具（如maven或gradle）</p></blockquote><h3 id="maven-项目配置-1" tabindex="-1"><a class="header-anchor" href="#maven-项目配置-1"><span>maven 项目配置</span></a></h3>`,7),J={href:"https://github.com/openjfx/javafx-maven-plugin",target:"_blank",rel:"noopener noreferrer"},I=p(`<ol><li><p>IDEA 中选择 JavaFX 项目 maven 创建项目，<code>pom.xml</code> 默认会添加</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="line"><span class="token comment">&lt;!--以及javafx依赖--&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.openjfx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javafx-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">          <span class="token comment">&lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;</span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>default-cli<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.example/com.example.HelloApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>launcher</span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>launcher</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jlinkZipName</span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jlinkZipName</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jlinkImageName</span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jlinkImageName</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noManPages</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noManPages</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stripDebug</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>stripDebug</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noHeaderFiles</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noHeaderFiles</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>构建</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mvn javafx:jlink</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在项目目录下使用下面命令进行 <code>jpackage</code> 打包，只列出了部分参数，其他参数可以使用 <code>jpackage -h</code> 查看</p><div class="language-bat line-numbers-mode" data-highlighter="prismjs" data-ext="bat" data-title="bat"><pre class="language-bat"><code><span class="line">jpackage ^</span>
<span class="line">  --name jdk17-jpackage ^</span>
<span class="line">  --icon .\\target\\classes\\image\\favicon.ico ^</span>
<span class="line">  --type app-image ^</span>
<span class="line">  -m com.example/com.example.HelloApplication ^</span>
<span class="line">  --runtime-image .\\target\\app\\ ^</span>
<span class="line">  --dest .\\target\\jpackage\\</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="gradle-项目配置-1" tabindex="-1"><a class="header-anchor" href="#gradle-项目配置-1"><span>gradle 项目配置</span></a></h3>`,2),D={href:"https://badass-jlink-plugin.beryx.org/releases/latest/",target:"_blank",rel:"noopener noreferrer"},M=p(`<p><strong>注意：version 字段只能包含数字和.</strong></p><ol><li><p>IDEA 中选择 JavaFX 项目 gradle 创建项目，<code>build.gradle</code> 中添加，如果原来的文件中存在则可以忽略</p><div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre class="language-groovy"><code><span class="line">plugins <span class="token punctuation">{</span></span>
<span class="line">  <span class="token punctuation">...</span></span>
<span class="line">  id <span class="token string">&#39;org.javamodularity.moduleplugin&#39;</span> version <span class="token string">&#39;1.8.12&#39;</span></span>
<span class="line">  id <span class="token string">&#39;org.openjfx.javafxplugin&#39;</span> version <span class="token string">&#39;0.0.13&#39;</span></span>
<span class="line">  id <span class="token string">&#39;org.beryx.jlink&#39;</span> version <span class="token string">&#39;2.25.0&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">application <span class="token punctuation">{</span></span>
<span class="line">  mainModule <span class="token operator">=</span> <span class="token string">&#39;com.example&#39;</span></span>
<span class="line">  mainClass <span class="token operator">=</span> <span class="token string">&#39;com.example.HelloApplication&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">javafx <span class="token punctuation">{</span></span>
<span class="line">  version <span class="token operator">=</span> <span class="token string">&#39;17.0.6&#39;</span></span>
<span class="line">  modules <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;javafx.controls&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;javafx.fxml&#39;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">jlink <span class="token punctuation">{</span></span>
<span class="line">  imageZip <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">buildDir</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/distributions/app-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">javafx<span class="token punctuation">.</span>platform<span class="token punctuation">.</span>classifier</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.zip&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">  options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;--strip-debug&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--compress&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--no-header-files&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--no-man-pages&#39;</span><span class="token punctuation">]</span></span>
<span class="line">  launcher <span class="token punctuation">{</span></span>
<span class="line">      name <span class="token operator">=</span> <span class="token string">&#39;app&#39;</span></span>
<span class="line">      noConsole <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 后面加上的</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">// 下面jpackage的闭包也是后面加上的</span></span>
<span class="line">  jpackage <span class="token punctuation">{</span></span>
<span class="line">      icon <span class="token operator">=</span> project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token expression">buildDir</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/resources/main/image/favicon.ico&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">      imageName <span class="token operator">=</span> <span class="token string">&#39;app&#39;</span></span>
<span class="line">      vendor <span class="token operator">=</span> <span class="token string">&#39;reine-ishyanami&#39;</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>org<span class="token punctuation">.</span>gradle<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>os<span class="token punctuation">.</span>OperatingSystem<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>windows<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          installerOptions <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token string">&#39;--win-per-user-install&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--win-dir-chooser&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--win-menu&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--win-shortcut&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;--win-menu-group&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;app&#39;</span><span class="token punctuation">]</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">jlinkZip <span class="token punctuation">{</span></span>
<span class="line">  group <span class="token operator">=</span> <span class="token string">&#39;distribution&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>构建</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">gradle jpackage</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在 <code>build/jpackage</code> 文件夹中可以找到生成的 exe 和 msi 文件</p></li></ol><h2 id="_4-native-image" tabindex="-1"><a class="header-anchor" href="#_4-native-image"><span>4. native-image</span></a></h2><blockquote><p>版本要求: graalvm jdk17</p><p>项目类型: 仅对 maven 或 gradle 项目</p></blockquote>`,4);function N(F,E){const t=e("ExternalLinkIcon"),l=e("RouteLink");return c(),o("div",null,[m,n("p",null,[n("strong",null,[s("插件主页 "),n("a",b,[s("JavaPackager"),a(t)])])]),n("ol",null,[n("li",null,[n("p",null,[s("windows 需要安装 "),n("a",h,[s("innosetup"),a(t)]),s(" 和 "),n("a",f,[s("wixtoolset v3"),a(t)]),s(", 推荐使用包管理器 "),j,s(" 或 "),x,s(" 进行安装")]),n("ul",null,[n("li",null,[n("a",_,[s("Chocolatey"),a(t)])])]),y,n("ul",null,[n("li",null,[n("a",q,[s("Scoop"),a(t)])])]),w]),P]),C,n("p",null,[n("strong",null,[s("更多配置参考 "),n("a",J,[s("javafx-maven-plugin"),a(t)])])]),I,n("p",null,[n("strong",null,[s("更多配置参考 "),n("a",D,[s("jlink plugin"),a(t)])])]),M,n("p",null,[a(l,{to:"/blogs/dev/graalvmNative.html"},{default:u(()=>[s("移步链接")]),_:1})])])}const T=i(v,[["render",N],["__file","javafxPackage.html.vue"]]),H=JSON.parse('{"path":"/blogs/dev/javafxPackage.html","title":"JavaFX 项目构建为可执行文件","lang":"zh-CN","frontmatter":{"title":"JavaFX 项目构建为可执行文件","date":"2023/10/29","tags":["JavaFX"],"categories":["dev"]},"headers":[{"level":2,"title":"1. javafxpackager","slug":"_1-javafxpackager","link":"#_1-javafxpackager","children":[]},{"level":2,"title":"2. JavaPackager","slug":"_2-javapackager","link":"#_2-javapackager","children":[{"level":3,"title":"maven 项目配置","slug":"maven-项目配置","link":"#maven-项目配置","children":[]},{"level":3,"title":"gradle 项目配置","slug":"gradle-项目配置","link":"#gradle-项目配置","children":[]}]},{"level":2,"title":"3. jpackage","slug":"_3-jpackage","link":"#_3-jpackage","children":[{"level":3,"title":"maven 项目配置","slug":"maven-项目配置-1","link":"#maven-项目配置-1","children":[]},{"level":3,"title":"gradle 项目配置","slug":"gradle-项目配置-1","link":"#gradle-项目配置-1","children":[]}]},{"level":2,"title":"4. native-image","slug":"_4-native-image","link":"#_4-native-image","children":[]}],"git":{"createdTime":null,"updatedTime":1722134881000,"contributors":[{"name":"reine-ishyanami","email":"2402979195@qq.com","commits":3}]},"filePathRelative":"blogs/dev/javafxPackage.md"}');export{T as comp,H as data};
