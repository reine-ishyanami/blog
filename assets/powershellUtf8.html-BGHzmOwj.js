import{_ as l,r as a,o as n,c as i,a as e,b as o,d as t,e as r}from"./app-Cxb9Ozmt.js";const p={},c=e("h1",{id:"powershell-终端设置默认编码页为-utf-8",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#powershell-终端设置默认编码页为-utf-8"},[e("span",null,"PowerShell 终端设置默认编码页为 UTF-8")])],-1),d={href:"https://www.cnblogs.com/chkhk/p/17349669.html",target:"_blank",rel:"noopener noreferrer"},h=r(`<h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h2><ol><li><p>使用以下命令打开 PowerShell 的配置文件</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line">notepad<span class="token punctuation">.</span>exe <span class="token variable">$PROFILE</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>如果没有配置文件，则创建一个</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line"><span class="token function">New-Item</span> <span class="token operator">-</span>ItemType File <span class="token operator">-</span>Path <span class="token variable">$PROFILE</span> <span class="token operator">-</span>Force</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在配置文件中添加以下内容</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line"><span class="token comment"># 输入的内容格式为UTF-8</span></span>
<span class="line"><span class="token namespace">[Console]</span>::OutputEncoding = <span class="token namespace">[System.Text.Encoding]</span>::UTF8</span>
<span class="line"><span class="token comment"># 当前代码页改为65001（UTF-8）</span></span>
<span class="line">chcp 65001 <span class="token punctuation">|</span> <span class="token function">Out-Null</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ul><li><p>配置文件一般默认位置在 <code>C:\\Users\\用户名\\Documents\\PowerShell\\</code>（PowerShell7），或 <code>C:\\Users\\用户名\\Documents\\WindowsPowerShell\\</code>（PowerShell5）。名字通常以 <code>_profile.ps1</code> 结尾。</p></li><li><p>如果提示 <code>无法加载文件</code> 等类似的错误，则可能是因为系统安全策略禁止运行 PowerShell 脚本，可用如下步骤解决</p><ol><li><p>在 PowerShell 命令行窗口中，输入以下命令，以查看当前执行策略</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line"><span class="token function">Get-ExecutionPolicy</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>如果执行策略为 <code>Restricted</code>，则表示禁止运行脚本，需要修改执行策略，输入以下命令</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="line"><span class="token function">Set-ExecutionPolicy</span> RemoteSigned</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>然后输入 <code>Y</code> 确认修改</p></li><li><p>修改完成后，再次输入 <code>Get-ExecutionPolicy</code>，查看执行策略是否已经修改为 <code>RemoteSigned</code></p></li></ol></li></ul>`,4);function u(m,g){const s=a("ExternalLinkIcon");return n(),i("div",null,[c,e("p",null,[e("a",d,[o("参考链接"),t(s)])]),h])}const w=l(p,[["render",u],["__file","powershellUtf8.html.vue"]]),b=JSON.parse('{"path":"/blogs/ops/powershellUtf8.html","title":"PowerShell 终端设置默认编码页为 UTF-8","lang":"zh-CN","frontmatter":{"title":"PowerShell 终端设置默认编码页为 UTF-8","date":"2024/8/13","tags":["Console"],"categories":["ops"]},"headers":[{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}],"git":{"createdTime":1723528838000,"updatedTime":1723528838000,"contributors":[{"name":"reine-ishyanami","email":"2402979195@qq.com","commits":1}]},"filePathRelative":"blogs/ops/powershellUtf8.md"}');export{w as comp,b as data};
