import{_ as a,o as s,c as e,e as n}from"./app-Cxb9Ozmt.js";const i={},t=n(`<h1 id="git-修改提交记录中的作者信息" tabindex="-1"><a class="header-anchor" href="#git-修改提交记录中的作者信息"><span>Git 修改提交记录中的作者信息</span></a></h1><blockquote><p>背景：在主机中配置了多个 git 账户信息，由于平时开发公司代码比较多，将公司账户信息配置在 <code>~/.gitconfig</code> 文件中，偶尔写一些自己的开源项目，使用的自己的账户信息，将信息配置在项目目录下的 <code>.git/config</code> 文件中，有次在开发项目时忘记配置用户信息，导致提交记录中的用户信息混乱。</p></blockquote><h2 id="可以分为一下几种情况进行讨论" tabindex="-1"><a class="header-anchor" href="#可以分为一下几种情况进行讨论"><span>可以分为一下几种情况进行讨论</span></a></h2><p><strong>以下几种情况都需要先修改用户信息</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">git</span> config user.name <span class="token string">&quot;xxx&quot;</span></span>
<span class="line"><span class="token function">git</span> config user.email <span class="token string">&quot;xxx@yy.zz&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-只有最近一次提交记录的用户信息不正确" tabindex="-1"><a class="header-anchor" href="#_1-只有最近一次提交记录的用户信息不正确"><span>1. 只有最近一次提交记录的用户信息不正确</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># amend 修改 commit 信息，no-edit 不编辑提交描述信息，reset-author 重置作者信息（用户名与邮箱）</span></span>
<span class="line"><span class="token function">git</span> commit <span class="token parameter variable">--amend</span> --no-edit --reset-author</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-最近几次提交记录的用户信息都不正确" tabindex="-1"><a class="header-anchor" href="#_2-最近几次提交记录的用户信息都不正确"><span>2. 最近几次提交记录的用户信息都不正确</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># $REV 为提交记录的 hash 值，该命令会修改该提交记录以及之后的所有 commit 信息</span></span>
<span class="line"><span class="token function">git</span> rebase <span class="token parameter variable">-i</span> <span class="token variable">$REV</span> <span class="token parameter variable">--exec</span> <span class="token string">&quot;git commit --amend --no-edit --reset-author&quot;</span></span>
<span class="line"><span class="token comment"># rebase操作执行时会弹出一个编辑窗口，直接保存</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-所有提交记录的用户信息都不正确" tabindex="-1"><a class="header-anchor" href="#_3-所有提交记录的用户信息都不正确"><span>3. 所有提交记录的用户信息都不正确</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 该命令会修改从首次提交记录开始的所有 commit 信息</span></span>
<span class="line"><span class="token function">git</span> rebase <span class="token parameter variable">-r</span> <span class="token parameter variable">--root</span> <span class="token parameter variable">--exec</span> <span class="token string">&quot;git commit --amend --no-edit --reset-author&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-中间的几次提交记录的用户信息不正确" tabindex="-1"><a class="header-anchor" href="#_4-中间的几次提交记录的用户信息不正确"><span>4. 中间的几次提交记录的用户信息不正确</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># $REV 为提交记录的 hash 值，该命令会修改该提交记录以及之后的所有 commit 信息</span></span>
<span class="line"><span class="token function">git</span> rebase <span class="token parameter variable">-i</span> <span class="token variable">$REV</span> <span class="token parameter variable">--exec</span> <span class="token string">&quot;git commit --amend --no-edit --reset-author&quot;</span></span>
<span class="line"><span class="token comment"># rebase 操作执行时会弹出一个编辑窗口，删除掉不需要修改的提交记录（根据提交描述信息选择），保存</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>修改完成后如果需要提交到远程仓库</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">git</span> push <span class="token parameter variable">--force</span> <span class="token parameter variable">--all</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,15),l=[t];function r(c,o){return s(),e("div",null,l)}const d=a(i,[["render",r],["__file","gitModifyAuthor.html.vue"]]),h=JSON.parse('{"path":"/blogs/ops/gitModifyAuthor.html","title":"Git 修改提交记录中的作者信息","lang":"zh-CN","frontmatter":{"title":"Git 修改提交记录中的作者信息","date":"2023/10/21","tags":["Git"],"categories":["ops"]},"headers":[{"level":2,"title":"可以分为一下几种情况进行讨论","slug":"可以分为一下几种情况进行讨论","link":"#可以分为一下几种情况进行讨论","children":[{"level":3,"title":"1. 只有最近一次提交记录的用户信息不正确","slug":"_1-只有最近一次提交记录的用户信息不正确","link":"#_1-只有最近一次提交记录的用户信息不正确","children":[]},{"level":3,"title":"2. 最近几次提交记录的用户信息都不正确","slug":"_2-最近几次提交记录的用户信息都不正确","link":"#_2-最近几次提交记录的用户信息都不正确","children":[]},{"level":3,"title":"3. 所有提交记录的用户信息都不正确","slug":"_3-所有提交记录的用户信息都不正确","link":"#_3-所有提交记录的用户信息都不正确","children":[]},{"level":3,"title":"4. 中间的几次提交记录的用户信息不正确","slug":"_4-中间的几次提交记录的用户信息不正确","link":"#_4-中间的几次提交记录的用户信息不正确","children":[]}]}],"git":{"createdTime":1697872215000,"updatedTime":1722134881000,"contributors":[{"name":"reine-ishyanami","email":"2402979195@qq.com","commits":2}]},"filePathRelative":"blogs/ops/gitModifyAuthor.md"}');export{d as comp,h as data};
